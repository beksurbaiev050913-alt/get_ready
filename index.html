<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GetReady - –ò–ò –ê–Ω–∞–ª–∏–∑ –ï–¥—ã</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/models/mobilenet"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            color: white;
            /* –ó–∞–¥–Ω–∏–π —Ñ–æ–Ω —Å –µ–¥–æ–π */
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-attachment: fixed;
        }

        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 500px;
            width: 90%;
        }

        h1 { font-size: 2.5em; margin-bottom: 10px; }
        .emojis { font-size: 2em; margin-bottom: 20px; }

        #upload-btn {
            background: #ff4757;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            transition: 0.3s;
        }

        #upload-btn:hover { background: #ff6b81; }

        #image-preview {
            max-width: 100%;
            margin-top: 20px;
            border-radius: 10px;
            display: none;
        }

        #result {
            margin-top: 20px;
            font-weight: bold;
            font-size: 1.2em;
            background: rgba(0,0,0,0.5);
            padding: 10px;
            border-radius: 10px;
        }

        .contact {
            margin-top: 30px;
            font-size: 0.9em;
        }

        .contact a {
            color: #1e90ff;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>GetReady üçî</h1>
        <div class="emojis">üçé –°—Ç–µ–π–∫ ü•© –ü–∏—Ü—Ü–∞ üçï –°–∞–ª–∞—Ç ü•ó</div>
        
        <p>–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ –µ–¥—ã, –∏ –ò–ò –ø–æ–ø—Ä–æ–±—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ!</p>
        
        <input type="file" id="image-input" accept="image/*" style="display: none;">
        <button id="upload-btn" onclick="document.getElementById('image-input').click()">–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ üì∏</button>

        <img id="image-preview" src="" alt="–í–∞—à–∞ –µ–¥–∞">
        
        <div id="result">–û–∂–∏–¥–∞—é —Ñ–æ—Ç–æ...</div>

        <div class="contact">
            –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: <a href="https://t.me/KosmosHardoxxx" target="_blank">@KosmosHardoxxx</a>
        </div>
    </div>

    <script>
        const imageInput = document.getElementById('image-input');
        const imagePreview = document.getElementById('image-preview');
        const resultDiv = document.getElementById('result');

        let model;

        // –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –ò–ò
        async function loadModel() {
            resultDiv.innerText = "–ó–∞–≥—Ä—É–∑–∫–∞ –ò–ò...";
            model = await mobilenet.load();
            resultDiv.innerText = "–ò–ò –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ñ–æ—Ç–æ.";
        }
        loadModel();

        imageInput.addEventListener('change', async (e) => {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = async (event) => {
                imagePreview.src = event.target.result;
                imagePreview.style.display = 'block';
                resultDiv.innerText = "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é... ü§î";

                // –î–∞–µ–º –ò–ò –≤—Ä–µ–º—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É
                setTimeout(async () => {
                    const predictions = await model.classify(imagePreview);
                    analyzeCookingState(predictions);
                }, 100);
            };
            reader.readAsDataURL(file);
        });

        function analyzeCookingState(predictions) {
            // –ü—Ä–æ—Å—Ç–µ–π—à–∞—è –ª–æ–≥–∏–∫–∞: –∏—â–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
            const rawKeywords = ['meat', 'raw', 'dough', 'vegetable', 'fruit'];
            const cookedKeywords = ['pizza', 'burger', 'steak', 'fried', 'baked', 'dinner', 'cuisine'];

            let topResult = predictions[0].className.toLowerCase();
            let isCooked = cookedKeywords.some(word => topResult.includes(word));
            
            if (isCooked) {
                resultDiv.innerHTML = `–ü–æ—Ö–æ–∂–µ, —ç—Ç–æ <b>–≥–æ—Ç–æ–≤–∞—è –µ–¥–∞</b>! üòã<br><small>(${topResult})</small>`;
            } else {
                resultDiv.innerHTML = `–ü–æ—Ö–æ–∂–µ, —ç—Ç–æ <b>—Å—ã—Ä–æ–π –ø—Ä–æ–¥—É–∫—Ç</b> –∏–ª–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç ü•¶<br><small>(${topResult})</small>`;
            }
        }
    </script>
</body>
</html>
